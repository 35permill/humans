<launch>
    <arg name="aware_home" default="false"/>

    <include file="$(find pr2_machine)/$(env ROBOT).machine" />
    <include file="$(find gt_pr2)/navigation/pr2_2dnav.launch"/>
    <group if="$(arg aware_home)">
    	<include file="$(find gt_pr2)/aware_map.launch"/>
    </group>

    <!-- IK and FK -->
    <include file="$(find hai_sandbox)/launch/right_arm_collision_free_ik.launch"/>
    <include file="$(find hai_sandbox)/launch/left_arm_collision_free_ik.launch"/>

    <!-- Reactive Grasping Controllers -->
    <include file="$(find pr2_gripper_sensor_action)/launch/pr2_gripper_sensor_actions.launch"/>

    <!-- Sensor Nodes -->
    <node ns="prosilica" pkg="image_proc" type="image_proc" respawn="true" name="prosilica_image_proc"/>
    <node name="fpfh_fx" pkg="feature_extractor_fpfh" type="fpfh_node" machine="c2"/>
    <node name="$(anon dynam_load)" pkg="hrl_lib" type="load_dynamic_config" 
          args="/narrow_stereo_textured/narrow_stereo_textured_proc $(find trf_learn)/launch/narrow_stereo_manip.yaml"/>

    <!-- Move Base -->
    <node pkg="hrl_pr2_lib" type="move_base_server.py" name="move_base_server"/>
</launch>
